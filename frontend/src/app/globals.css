@tailwind base;
@tailwind components;
@tailwind utilities;

/* Geist Font */
@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Geist Mono';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-mono/GeistMono-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Geist Mono';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-mono/GeistMono-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@layer base {
  *,
  *::before,
  *::after {
    @apply border-border-default;
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-bg-primary text-text-primary font-sans text-body;
  }

  ::selection {
    @apply bg-accent-primary/10 text-text-primary;
  }

  /* Focus visible - proper focus rings */
  :focus {
    outline: none;
  }

  :focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-accent-primary ring-offset-bg-primary;
  }

  /* Scrollbar - subtle */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border-default rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-border-hover;
  }

  /* Remove number input spinners */
  input[type='number']::-webkit-inner-spin-button,
  input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
}

@layer components {
  /* Container */
  .container-main {
    @apply max-w-container mx-auto px-6;
  }

  /* Buttons - simple, no glows */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-body font-medium rounded transition-colors duration-150;
  }

  .btn-primary {
    @apply btn bg-accent-primary text-text-inverse hover:bg-accent-primary/90 active:bg-accent-primary/80;
  }

  .btn-secondary {
    @apply btn bg-bg-primary text-text-primary border border-border-default hover:bg-bg-secondary hover:border-border-hover active:bg-bg-tertiary;
  }

  .btn-ghost {
    @apply btn bg-transparent text-text-secondary hover:text-text-primary hover:bg-bg-secondary active:bg-bg-tertiary;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-caption;
  }

  .btn-lg {
    @apply px-5 py-2.5 text-body-lg;
  }

  /* Cards - soft shadows, clean borders */
  .card {
    @apply bg-bg-elevated border border-border-default rounded-lg p-6 shadow-soft;
  }

  .card-interactive {
    @apply card transition-shadow duration-150 hover:shadow-card;
  }

  /* Inputs - refined states */
  .input {
    @apply w-full px-3 py-2 text-body bg-bg-primary border border-border-default rounded;
    @apply placeholder:text-text-muted;
    @apply transition-colors duration-150;
    /* Idle */
  }

  .input:hover:not(:focus):not(:disabled) {
    @apply border-border-hover;
  }

  .input:focus {
    @apply border-border-focus ring-2 ring-accent-primary/10;
  }

  .input:disabled {
    @apply bg-bg-tertiary text-text-muted cursor-not-allowed;
  }

  .input-error {
    @apply border-accent-error focus:border-accent-error focus:ring-accent-error/10;
  }

  /* Labels */
  .label {
    @apply block text-caption font-medium text-text-primary mb-1.5;
  }

  .label-muted {
    @apply block text-caption text-text-muted mb-1.5;
  }

  /* KPI Cards */
  .kpi-card {
    @apply bg-bg-elevated border border-border-default rounded-lg p-5;
  }

  .kpi-value {
    @apply text-display font-semibold text-text-primary tracking-tight;
  }

  .kpi-label {
    @apply text-caption text-text-muted mt-1;
  }

  /* Tabs */
  .tabs {
    @apply flex items-center gap-1 border-b border-border-default;
  }

  .tab {
    @apply px-4 py-2.5 text-body font-medium text-text-muted transition-colors duration-150;
    @apply hover:text-text-secondary;
    @apply relative -mb-px;
  }

  .tab-active {
    @apply text-text-primary;
  }

  .tab-active::after {
    content: '';
    @apply absolute bottom-0 left-0 right-0 h-0.5 bg-accent-primary;
  }

  /* Table */
  .table-container {
    @apply overflow-x-auto;
  }

  .table {
    @apply w-full text-body;
  }

  .table thead {
    @apply sticky top-0 bg-bg-primary z-10;
  }

  .table th {
    @apply text-left text-caption font-medium text-text-muted py-3 px-4 border-b border-border-default;
  }

  .table td {
    @apply py-3 px-4 border-b border-border-default;
  }

  .table tbody tr:hover {
    @apply bg-bg-secondary/50;
  }

  /* Zebra rows - subtle */
  .table-zebra tbody tr:nth-child(even) {
    @apply bg-bg-secondary/30;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 text-micro font-medium rounded-full;
  }

  .badge-success {
    @apply bg-accent-success/10 text-accent-success;
  }

  .badge-warning {
    @apply bg-accent-warning/10 text-accent-warning;
  }

  .badge-error {
    @apply bg-accent-error/10 text-accent-error;
  }

  .badge-neutral {
    @apply bg-bg-tertiary text-text-secondary;
  }

  /* Stepper */
  .stepper {
    @apply flex items-center gap-3;
  }

  .stepper-step {
    @apply flex items-center gap-2;
  }

  .stepper-indicator {
    @apply w-6 h-6 rounded-full flex items-center justify-center text-micro font-medium;
    @apply border border-border-default text-text-muted;
  }

  .stepper-indicator-active {
    @apply bg-accent-primary border-accent-primary text-text-inverse;
  }

  .stepper-indicator-complete {
    @apply bg-accent-success border-accent-success text-text-inverse;
  }

  .stepper-label {
    @apply text-caption text-text-muted;
  }

  .stepper-label-active {
    @apply text-text-primary font-medium;
  }

  .stepper-connector {
    @apply flex-1 h-px bg-border-default;
  }

  .stepper-connector-complete {
    @apply bg-accent-success;
  }

  /* Tooltip */
  .tooltip {
    @apply absolute z-50 px-2.5 py-1.5 text-caption bg-bg-inverse text-text-inverse rounded shadow-elevated;
    @apply opacity-0 invisible transition-opacity duration-150;
    @apply max-w-xs;
  }

  .tooltip-visible {
    @apply opacity-100 visible;
  }

  /* Divider */
  .divider {
    @apply h-px bg-border-default my-6;
  }

  /* Skeleton loader */
  .skeleton {
    @apply bg-bg-tertiary rounded animate-pulse;
  }

  /* Code/mono text */
  .mono {
    @apply font-mono text-caption;
  }

  /* Status indicator */
  .status-dot {
    @apply w-1.5 h-1.5 rounded-full;
  }

  .status-dot-success {
    @apply bg-accent-success;
  }

  .status-dot-warning {
    @apply bg-accent-warning;
  }

  .status-dot-error {
    @apply bg-accent-error;
  }

  /* Link */
  .link {
    @apply text-text-primary underline underline-offset-2 decoration-border-default;
    @apply hover:decoration-text-primary transition-colors duration-150;
  }

  .link-muted {
    @apply text-text-muted hover:text-text-primary transition-colors duration-150;
  }

  /* Section spacing */
  .section {
    @apply py-16 md:py-24;
  }

  .section-sm {
    @apply py-8 md:py-12;
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-in {
    @apply animate-fade-in;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Truncate multi-line */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
